<div class="col-xl-4 col-lg-5 offset-xl-2 offset-lg-1" style="display: block;" id="p1">
    <div class="booking-form">
        <h3 style="color: #fff; font-weight: 700;">Estimer votre Trajet</h3>
        <form id="form1" class="form-horizontal" data-toggle="validator">
            <div class="check-date">
                <label class="text-left">
                    Adresse de départ :
                    <input type="text" id="autocomplete1" name="adresse1"
                        placeholder="Ex : N° Rue, Code postal/Ville" value="" class="form-control pac-target-input"
                        required="">
                </label>
            </div>
            <div class="check-date">
                <label class="text-left">Adresse d'arrivée :
                    <input type="text" id="autocomplete2" name="adresse2"
                        class="form-control form-effect pac-target-input"
                        placeholder="Ex : N° Rue, Code postal/Ville" name="end" value="" vk_1e362="subscribed"
                        required="">
                </label>
            </div>
            <script>
                // Définition des limites géographiques pour restreindre la recherche à la région parisienne
                let parisBounds = new google.maps.LatLngBounds(
                    new google.maps.LatLng(48.699626, 2.135432), // coordonnées de la limite sud-ouest
                    new google.maps.LatLng(49.045062, 2.613330) // coordonnées de la limite nord-est
                );
                var autocomplete1 = new google.maps.places.Autocomplete(document.getElementById('autocomplete1'), {
                    bounds: parisBounds,
                    strictBounds: true
                });
                var autocomplete2 = new google.maps.places.Autocomplete(document.getElementById('autocomplete2'), {
                    componentRestrictions: { country: "fr" }
                });
            </script>
            <select id="typeVehicule" name="typeVehicule" required="" style="margin-bottom: 15px;">
                <option value="">Type du Véhicule</option>
                <option value="1">STANDARD</option>
                <option value="2">BERLINE</option>
                <option value="3">VAN</option>
            </select>
            <div>
                <select id="nbPersonnes" name="pers" required="">
                    <option value="">Nbr de personnes</option>
                    <option id="pers1" value="1" style="display: none;">1 personne</option>
                    <option id="pers2" value="2" style="display: none;">2 personnes</option>
                    <option id="pers3" value="3" style="display: none;">3 personnes</option>
                    <option id="pers4" value="4" style="display: none;">4 personnes</option>
                    <option id="pers5" value="5" style="display: none;">5 personnes</option>
                    <option id="pers6" value="6" style="display: none;">6 personnes</option>
                    <option id="pers7" value="7" style="display: none;">7 personnes</option>
                </select>
            </div>

            <button name="calculer" id="calculer" onclick="afficherTarif()">Estimer</button>
        </form>
    </div>
    <div class="reservation" style="display: none;" id="reservation">
        <div id="form2" name="form2">
            <p class="cout" id="cout"><strong> Coût du Trajet : 935 Euro </strong></p>
            <p class="resultat" id="resultat">Estimation: 4 heures 36 minutes<br>Distance: 466 Km</p>
            <a href="https://www.example.com"></a>
                <button name="reserver" id="reserver" onclick="reserver()">Réserver</button>
            </a>
        </div>
    </div>
</div>
<div class="container" style="display: none;" id="p2">
    <div class="row">
        <div class="col-md-12 "><!--md-12-->
            <form class="form-inline contact-form" method="post" action="confirmation.php" role="form"
                id="ResrvForm">
                <!--client-->
                <div class="blur-wrapper col-md-7 mb-2"><!--blur-wrapper col-md-7-->
                    <fieldset class="confirm-form">
                        <!--trajet aller et retour-->
                        <h5 class="mb-3 ml-4" style="color: #fff; font-weight: 700;">Détails Client</h5>
                        <div class="form-group col-lg-12 mb-2">
                            <div class="form-group col-md-6 col-sm-6">

                                <input type="text" placeholder="Email " name="email" id="email" value=""
                                    required="">
                                <div id="status_seek"></div>
                            </div> <!--col-sm-6-->
                            <div class="form-group col-md-6 col-sm-6">

                                <span class="error"></span>
                                <input type="text" placeholder="Téléphone " name="tel" id="tel" value=""
                                    autocomplete="off"
                                    pattern="^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{2,6})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$"
                                    data-fv-phone-message="Téléphone non valide." required="">
                            </div> <!--col-sm-6-->
                        </div><!--form-group lg-12-->
                        <div class="form-group col-lg-12 mb-2">
                            <div class="form-group col-md-6 col-sm-6">

                                <input type="text" placeholder="Nom " name="nom" id="nom" value=""
                                    autocomplete="off" required="">

                            </div> <!--col-sm-6-->
                            <div class="form-group col-md-6 col-sm-6">

                                <span class="error"></span>
                                <input type="text" placeholder="Prénom " name="prenom" id="prenom" value=""
                                    autocomplete="off" required="">
                            </div> <!--col-sm-6-->
                        </div><!--form-group lg-12-->
                    </fieldset>
                </div><!--blur-wrapper col-md-7-->
                <!--trajet-->
                <div class="blur-wrapper col-md-7"><!--blur-wrapper col-md-8-->
                    <fieldset class="confirm-form" style="margin-bottom: 8px;">
                        <!--trajet aller et retour-->

                        <h5 class="mb-3 ml-4" style="color: #fff; font-weight: 700;">Trajet</h5>
                        <div class="form-group col-lg-12 mb-2">
                            <div class="form-group col-md-6 col-sm-6">

                                <input type="text" id="autocomplete3" name="adresse3"
                                placeholder="Adresse de départ" value="" class="form-control pac-target-input"
                                required="">


                            </div> <!--col-sm-6-->
                            <div class="form-group col-md-6 col-sm-6">

                                <span class="error"></span>
                                <input type="text" id="autocomplete4" name="adresse4"
                                class="form-control form-effect pac-target-input"
                                placeholder="Adresse d'arrivée" name="end" value="" vk_1e362="subscribed"
                                required="">
                            </div> <!--col-sm-6-->
                            <script>
                                var autocomplete3 = new google.maps.places.Autocomplete(document.getElementById('autocomplete3'), {
                                    bounds: parisBounds,
                                    strictBounds: true
                                });
                                var autocomplete4 = new google.maps.places.Autocomplete(document.getElementById('autocomplete4'), {
                                    componentRestrictions: { country: "fr" }
                                });
                            </script>
                        </div><!--form-group lg-12-->

                        <div class="form-group col-lg-12 mb-2">
                            <div class="form-group col-md-6 col-sm-6">
                                    <input type="text" placeholder="Date et heure de départ" id="datetimepicker" required="">
                                    <script>
                                        $("#datetimepicker").ready(function() {
                                        // Définir la date minimum à j+2
                                        var dateMin = new Date();
                                        dateMin.setDate(dateMin.getDate() + 2);
                                        dateMin.setHours(0, 0, 0, 0);
                                        // Configuration du datetimepicker
                                        $.datetimepicker.setLocale('fr');
                                        $("#datetimepicker").datetimepicker({
                                            format: 'd/m/Y H:i',  // Format de l'heure
                                            showMinute: true,  // Afficher les minutes
                                            step: 15,  // Pas de 15 minutes
                                            showSecond: false,  // Ne pas afficher les secondes
                                            minDate: dateMin,  // Date minimale
                                            timepicker: false,
                                            dayOfWeekStart: 1,
                                            onShow: function(currentDateTime, $input) {
                                            if (document.getElementById("datetimepicker").value == "") {
                                                this.setOptions({
                                                    timepicker: false
                                                });
                                            }
                                            },
                                            onSelectDate: function(currentDateTime, $input) {
                                            if (currentDateTime < dateMin) {
                                                this.setOptions({
                                                    timepicker: false
                                                });
                                            } else {
                                                this.setOptions({
                                                    timepicker: true
                                                });
                                            }
                                            document.getElementById("datetimepicker").value = "";
                                            },
                                            onClose: function(currentDateTime, $input) {
                                            if (currentDateTime < dateMin) {
                                                document.getElementById("datetimepicker").value = ""; // efface le champ
                                            }
                                            }
                                        });
                                        });
                                    </script>
                            </div> <!--col-sm-6-->
                        </div><!--form-group-->
                        <!--hidden-->
                        <input type="hidden" id="code_postal_end" name="code_postal_end" value="">
                        <input id="distance" type="hidden" name="distance" value="466">
                        <input id="dure" type="hidden" name="dure" value="276">
                        <input id="estim" type="hidden" name="estim">
                        <input id="totalttc" type="hidden" name="totalttc">
                        <input id="heure" type="hidden" name="heure">
                        <!--hidden-->
                        <div class="form-group col-lg-12 mb-2">
                            <div class="form-group col-md-6 col-sm-6">

                                <span class="error"></span>
                                <select id="voiture" name="voiture" required="">
                                    <option value="" selected="">Type du Véhicule</option>
                                    <option value="1">STANDARD</option>
                                    <option value="2">BERLINE</option>
                                    <option value="3">VAN</option>

                                </select>

                            </div><!--col-sm-6-->
                            <div class="form-group col-md-6 col-sm-6 ">

                                <span class="error"></span>
                                <select id="pers" name="pers" required="">
                                    <option value="">Nbr de personnes</option>
                                    <option id="pers11" value="1" style="display: none;">1 personne</option>
                                    <option id="pers12" value="2" style="display: none;">2 personnes</option>
                                    <option id="pers13" value="3" style="display: none;">3 personnes</option>
                                    <option id="pers14" value="4" style="display: none;">4 personnes</option>
                                    <option id="pers15" value="5" style="display: none;">5 personnes</option>
                                    <option id="pers16" value="6" style="display: none;">6 personnes</option>
                                    <option id="pers17" value="7" style="display: none;">7 personnes</option>
                                </select>
                            </div><!--col-sm-6-->
                        </div><!--form-group-->
                    </fieldset><!--trajet aller et retour-->
                </div><!--blur-wrapper col-md-7-->

                <!--total-->
                <div class="blur-wrapper col-md-7">
                    <fieldset class="confirm-form" id="total-fact">

                        <h4 style="color: #fff; font-weight: 700; font-size: 18px; position: relative; text-align: center;">TOTAL</h4>

                        <p class="text-left">
                            <span class="text-primary" style="color: #fff; font-weight: 700;">Départ :</span>
                            <label id="totalDep" style="color: #fff; font-weight: 700;">466</label><br>
                            <span class="text-primary" style="color: #fff; font-weight: 700;">Arrivée :</span>
                            <label id="totalArr" style="color: #fff; font-weight: 700;">466</label><br><br>
                            <span id="dist" class="pull-left" style="color: #fff; font-weight: 700;">Distance : </span>
                            <label id="totalDist" style="color: #fff; font-weight: 700;">466</label><br>
                            <span id="temp" class="pull-left" style="color: #fff; font-weight: 700;">Temps : </span>
                            <label id="totalTem" style="color: #fff; font-weight: 700;">276</label>

                        </p>
                        <h5 class="text-danger" style="text-align: center;" id="totalPrix">935 €</h5>


                        <p></p>
                        <!--retour-->
                        <div id="tretour" style="display: none;">
                            <p style="text-align:left">
                                <span class="text-primary">Trajet Retour :</span><br><br>
                                <span id="dist" class="pull-left">Distance :</span>
                                <label id="labdist2"></label>
                                <span class="getdist"></span> Km <br>
                                <span id="temp" class="pull-left"> Temps :</span>
                                <label id="labtemp2"></label> Min
                            </p>
                            <h5 class="estim1 text-danger"><span>
                                    <label id="labesti2"></label> €</span></h5>

                            <p></p>
                            <p>
                            </p>
                            <h5 class="estim">
                                <label id="total" class="text-success"></label>
                            </h5>
                            <p></p>
                        </div><!--retour-->
                        <!--<div class="g-recaptcha" data-sitekey=""></div>-->
                        <div class="clearfix" id="captch-result" style="color:#F00; font-weight:500">

                        </div>
                        <input type="hidden" name="recaptcha-response" id="recaptcha-response"
                            value="03AKH6MRGvxlr5SxC3y6y7RFBtEtMp_g5D70BsIx2u0ta17PxO_-wNlWPEdkiQwqYxwxfYWFv7A1KNvBC7xeKqQ2GfkdDM4oFMvf2V6Cm1XQLJXIvuYEDG2KTCUnA2TM0O2cN9mzfUDXqP2BwODYSXsjqH3p4gFE_4Du9KbJ3tndeJHG2vqtO-Guv5hVNB78Xi0cbQ86dB-qAlpg-9h5hUZB4lGzeiWXS0c48B2qZX32iJP3Y6YmXZai24BLApGCEg8nJp7olLp6Ovhc4QEVWE_U2sp-JCKxBHsrVK80Kq2SWiBB6nX1r3-pb786mh7R73S2GWns7P-Yv8rQUR4k1DLP9SpErgkhulHscrLGQv-ufa9V6cbEZYQXVazer9NSiIQrxcGtGx-k3TeVc5N3rydk1erJnpGE4Mi2uxYvAJI9z27qUJLIaYSVIBsbKkhJTDfT15vomel9fVAd7b3iBXY0XDh7Co2Ojvz3jg6Eza78PPfU3AkPt5rbtJapRl2GDvFg9hOGM5hsG_aWQb0DYKtDIz_1hWP464Vg">
                        <button class="btn btn-success btn-lg" id="confirm" onclick="confirmer()">Confirmer</button>

                        <div id="email" class="clearfix">

                        </div>
                    </fieldset>
                </div><!--total-->
            </form>
        </div> <!--md-12-->
    </div><!--row-->
</div>
<div class="popup-container">
    <h2 class="popup-title">PAIEMENT CONFIRMÉ</h2>
    <p class="popup-message">Votre paiement est validé. Vous allez recevoir un email de confirmation de réservation. Merci de votre confiance.</p>
    <button class="popup-button" onclick="closePopup()">FERMER</button>
</div>
<script>
    function closePopup() {
        document.querySelector('.popup-container').remove();
    }
</script> 
